<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Generated by Caltrop Parser version 1.2 -->
<Actor name="fread">
    <Decl kind="Parameter" name="fname">
        <Type name="string"/>
    </Decl>
    <Decl kind="Parameter" name="size">
        <Type name="int"/>
    </Decl>
    <Port kind="Output" name="O">
        <Type name="int"/>
    </Port>
    <Decl kind="Variable" name="fd">
        <Expr kind="Application">
            <Expr kind="Var" name="openFile"/>
            <Args>
                <Expr kind="Var" name="fname"/>
            </Args>
        </Expr>
    </Decl>
    <Decl kind="Variable" name="nextc" assignable="Yes">
        <Type name="int"/>
        <Expr kind="Application">
            <Expr kind="Var" name="readByte"/>
            <Args>
                <Expr kind="Var" name="fd"/>
            </Args>
        </Expr>
    </Decl>
    <Initializer>
        <Stmt kind="Call">
            <Expr kind="Var" name="println"/>
            <Args>
                <Expr kind="Literal" literal-kind="String" value="***************************************"/>
            </Args>
        </Stmt>
        <Stmt kind="Call">
            <Expr kind="Var" name="println"/>
            <Args>
                <Expr kind="Literal" literal-kind="String" value="***************************************"/>
            </Args>
        </Stmt>
        <Stmt kind="Call">
            <Expr kind="Var" name="println"/>
            <Args>
                <Expr kind="Literal" literal-kind="String" value="***************************************"/>
            </Args>
        </Stmt>
        <Stmt kind="Call">
            <Expr kind="Var" name="println"/>
            <Args>
                <Expr kind="Literal" literal-kind="String" value="***************************************"/>
            </Args>
        </Stmt>
    </Initializer>
    <Action text-begin-line="14" text-begin-col="3" text-end-line="23" text-end-col="3">
        <Output port="O">
            <Expr kind="Var" name="v"/>
        </Output>
        <Guards>
            <Expr kind="BinOpSeq">
                <Expr kind="Var" name="nextc"/>
                <Op name="&gt;="/>
                <Expr kind="Literal" literal-kind="Integer" value="0"/>
            </Expr>
        </Guards>
        <Decl kind="Variable" name="v" assignable="Yes">
            <Type name="int"/>
        </Decl>
        <Stmt kind="Assign" name="v">
            <Expr kind="Var" name="nextc"/>
        </Stmt>
        <Stmt kind="Assign" name="nextc">
            <Expr kind="Application">
                <Expr kind="Var" name="readByte"/>
                <Args>
                    <Expr kind="Var" name="fd"/>
                </Args>
            </Expr>
        </Stmt>
    </Action>
</Actor>
